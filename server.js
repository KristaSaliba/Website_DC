const http = require("http"); const fs = require("fs"); const path = require("path"); const PORT = 3000; const PUBLIC_DIR = path.join(__dirname, "public"); const mimeTypes = { ".html": "text/html", ".css": "text/css", ".js": "text/javascript", ".png": "image/png", ".jpg": "image/jpeg", ".jpeg": "image/jpeg", ".svg": "image/svg+xml", ".ico": "image/x-icon" }; const server = http.createServer((req, res) => { let filePath = path.join(PUBLIC_DIR, req.url === "/" ? "index.html" : req.url); const extname = path.extname(filePath); const contentType = mimeTypes[extname] || "application/octet-stream"; fs.readFile(filePath, (err, content) => { if (err) { if (err.code === "ENOENT") { fs.readFile(path.join(PUBLIC_DIR, "index.html"), (err, content) => { res.writeHead(200, { "Content-Type": "text/html" }); res.end(content, "utf-8"); }); } else { res.writeHead(500); res.end("Server Error: " + err.code); } } else { res.writeHead(200, { "Content-Type": contentType }); res.end(content, "utf-8"); } }); }); server.listen(PORT, () => { console.log("Server running at http://localhost:" + PORT); console.log("Press Ctrl+C to stop"); });
